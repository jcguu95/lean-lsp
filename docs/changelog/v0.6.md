# Version 0.6

## [0.6.11] - 2026-02-09

### Fixed
- Corrected the `.dockerignore` pattern to `**/.lake/` to ensure all `.lake` build artifact directories are recursively ignored. This significantly reduces the Docker build context size.

## [0.6.10] - 2026-02-09

### Changed
- Clarified in `agent/README.md` why the Docker build context is set to the repository root and why a `.dockerignore` file is present there.

## [0.6.9] - 2026-02-09

### Added
- Created a `.dockerignore` file to dramatically reduce the Docker build context size, speeding up image builds.

## [0.6.8] - 2026-02-09

### Changed
- Updated `agent/README.md` to instruct users to run `docker build` from within the `agent/` directory, using the parent directory as the build context. This resolves path issues with the `COPY bin` command in the `Dockerfile`.

## [0.6.7] - 2026-02-09

### Changed
- Renamed `bin/test.sh` to `bin/test-lean-lsp.sh` to better reflect its purpose now that it is included in the Docker image's `PATH`.
- Updated references in `agent/Dockerfile` and `agent/README.md`.

## [0.6.6] - 2026-02-09

### Changed
- The entire `bin/` directory, with `test.sh` and `test-project`, is now copied into the Docker image to support in-container testing.
- Scripts (`lean-lsp`, `test.sh`) are added to the `PATH` and made executable.
- `agent/README.md` was updated with instructions for running the in-container tests.

## [0.6.5] - 2026-02-09

### Changed
- Updated `agent/Dockerfile` to copy the `bin/` directory into the image, making `lean-lsp` available to the agent.
- Modified `agent/README.md` to specify that the Docker build command should be run from the repository root.

## [0.6.4] - 2026-02-09

### Changed
- Improved `agent/README.md` for clarity and correctness, including updates to the `docker run` command and volume mount instructions.
- Clarified in `agent/README.md` where to run `docker run` and how to handle new vs. existing Lean projects.

## [0.6.3] - 2026-02-09

### Removed
- Reverted the `lean-exec` command proxy due to security concerns. The approach of executing host commands from the container was deemed too risky.

### Changed
- The recommended Aider setup now reverts to using a self-contained Docker image that installs its own Lean toolchain via `elan`. This is the most secure and robust method for avoiding CPU architecture mismatches.

## [0.6.2] - 2026-02-09

### Changed
- Refactored `CHANGELOG.md` into a main file with links to version-specific files in the `changelog/` directory.

## [0.6.1] - 2026-02-09

### Removed
- Decoupled the project from any specific agent workflow by removing `docs/AGENT_SETUP.md` and all Docker-related logic from `bin/test.sh`.

### Changed
- Clarified that installation instructions in `docs/INSTALLATION.md` are for macOS.
- Simplified `README.md` to focus on prerequisites and usage. Moved detailed setup, installation, and architecture information to `docs/INSTALLATION.md`.
- Further generalized `README.md` to focus on `lean-lsp`'s client-server architecture, removing specific references to the Docker/agent use-case.
- Refactored documentation to be more general. The main `README.md` now describes the `lean-lsp` tool, and agent-specific setup instructions have been moved to `docs/AGENT_SETUP.md`.

## [0.6.0] - 2026-02-09

This release concludes the v0.5 series, which saw the agent successfully author a proof (`sum_of_first_n_odd_numbers`) from scratch and a significant refactoring of the repository. The goal for v0.6.x is to enable the agent to query and reference specific statements in `mathlib` by their exact location, not just by name.

### Changed
- Renamed `example-project` to `test-project` and moved it into `bin/` to better reflect its purpose.
- Made the `all` command in `lean-lsp` more resilient by handling failures in individual LSP requests.
- Moved `lean-lsp` and `test.sh` scripts into a `bin/` directory for better organization.
- Updated `project-1/test.sh` to verify proofs by building and checking for `sorry`, instead of using LSP hover commands.
- Refactored the main `test.sh` to be minimal and only test `test-project`.

### Added
- Created `project-1/test.sh` for a dedicated project-1 test suite.

### Fixed
- Fixed paths in `bin/test.sh` to be more robust after script locations changed.
- Scoped the `sorry` check in `project-1/test.sh` to only search project source files, not dependencies.
- Corrected relative paths to `lean-lsp` in `project-1/test.sh`.
- Restructured `project-1` to follow standard Lean library layout, fixing LSP analysis issues.
- Removed debug output from `test.sh`.
